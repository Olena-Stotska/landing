{"version":3,"sources":["node_modules/parcel/src/builtins/bundle-url.js","node_modules/parcel/src/builtins/bundle-loader.js","js/app.js","node_modules/parcel/src/builtins/css-loader.js"],"names":["bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","require","loadBundlesLazy","bundles","Array","isArray","id","length","Promise","resolve","code","LazyPromise","reject","loadBundles","slice","then","all","map","loadBundle","bundleLoaders","registerBundleLoader","type","loader","module","load","register","bundle","substring","lastIndexOf","toLowerCase","bundleLoader","resolved","executor","promise","prototype","onSuccess","onError","catch","window","fetch","main","playVideo","initiateScrolling","getArticles","renderArticles","console","error","response","json","articles","template","document","getElementById","forEach","articleNode","content","cloneNode","appendChild","render","article","element","obj","elements","from","querySelectorAll","bindings","el","getAttribute","split","binding","field","attr","setAttribute","textContent","addEventListener","event","target","name","video","parentNode","querySelector","showButton","removeEventListener","classList","remove","pause","add","play","button","preventDefault","selector","getBoundingClientRect","top","currentTop","pageYOffset","step","animate","scrollTo","requestAnimationFrame","location","hash","updateLink","link","newLink","onload","href","Date","now","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i"],"mappings":"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","file":"app.8eb3c806.map","sourceRoot":"..","sourcesContent":["var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles.slice(0, -1))\n          .then(function () {\n            return require(id);\n          })\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  return Promise.all(bundles.map(loadBundle));\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.register(id, resolved);\n        }\n\n        return resolved;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","import '../css/style.scss'\n\nif (typeof window.fetch !== 'function') {\n  import('whatwg-fetch')\n}\n\nfunction main() {\n  playVideo()\n  initiateScrolling()\n\n  return getArticles()\n    .then(renderArticles)\n    .catch(error => {\n      console.error(error)\n    })\n}\n\nfunction getArticles() {\n  return fetch('db.json')\n    .then(response => response.json())\n}\n\nfunction renderArticles(articles) {\n  const template = document.getElementById('post-container')\n  const main = document.getElementById('container')\n\n  articles.forEach(article => {\n    const articleNode = template.content.cloneNode(true)\n    main.appendChild(render(articleNode, article))\n  })\n}\n\nfunction render(element, obj) {\n  const elements = Array.from(element.querySelectorAll('[data-bind]'))\n\n  elements.forEach(el => {\n    const bindings = el.getAttribute('data-bind').split(',')\n\n    bindings.forEach(binding => {\n      const [field, attr] = binding.split(':')\n\n      if (attr) {\n        el.setAttribute(attr, obj[field])\n      } else {\n        el.textContent = obj[field]\n      }\n    })\n  })\n\n  return element\n}\n\nfunction playVideo() {\n  document.addEventListener('click', (event) => {\n    const target = event.target\n\n    if (target.name === 'play') {\n      const video = target.parentNode.querySelector('video')\n      const showButton = (event) => {\n        video.removeEventListener(event.type, showButton)\n        target.parentNode.classList.remove('hide')\n        video.pause()\n      }\n\n      target.parentNode.classList.add('hide')\n      video.play()\n      video.addEventListener('pause', showButton)\n      video.addEventListener('click', showButton)\n    }\n  })\n}\n\nfunction initiateScrolling() {\n  const button = document.getElementById('scroll-btn')\n\n  button.addEventListener('click', (event) => {\n    event.preventDefault()\n\n    const selector = button.getAttribute('href')\n    const target = document.querySelector(selector)\n    const { top } = target.getBoundingClientRect()\n    let currentTop = window.pageYOffset\n    const step = (top - currentTop) / 50\n    const animate = () => {\n      currentTop += step\n      window.scrollTo(0, currentTop)\n\n      if (currentTop < top) {\n        requestAnimationFrame(animate)\n      } else {\n        location.hash = selector\n      }\n    }\n\n    animate()\n  })\n}\n\nmain()\n\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}