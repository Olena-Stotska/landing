{"version":3,"sources":["node_modules/parcel/src/builtins/bundle-url.js","node_modules/parcel/src/builtins/bundle-loader.js","js/app.js"],"names":["bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","require","loadBundlesLazy","bundles","Array","isArray","id","length","Promise","resolve","code","LazyPromise","reject","slice","then","loadBundles","all","map","loadBundle","bundleLoaders","registerBundleLoader","type","loader","module","load","register","bundle","substring","lastIndexOf","toLowerCase","bundleLoader","resolved","executor","promise","prototype","onSuccess","onError","catch","main","getArticles","playVideo","initiateScrolling","renderArticles","error","fetch","response","json","articles","template","document","getElementById","forEach","articleNode","content","cloneNode","appendChild","render","article","element","obj","from","querySelectorAll","el","getAttribute","split","binding","field","attr","setAttribute","textContent","addEventListener","event","target","name","video","parentNode","querySelector","showButton","removeEventListener","classList","remove","pause","add","play","button","preventDefault","selector","top","getBoundingClientRect","currentTop","window","pageYOffset","step","animate","scrollTo","hash"],"mappings":"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","file":"app.a3978622.map","sourceRoot":"..","sourcesContent":["var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles.slice(0, -1))\n          .then(function () {\n            return require(id);\n          })\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  return Promise.all(bundles.map(loadBundle));\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.register(id, resolved);\n        }\n\n        return resolved;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","import '../css/style.scss'\n\nif (typeof window.fetch !== 'function') {\n  import('whatwg-fetch')\n}\n\nfunction main() {\n  playVideo()\n  initiateScrolling()\n\n  return getArticles()\n    .then(renderArticles)\n    .catch(error => {\n      console.error(error)\n    })\n}\n\nfunction getArticles() {\n  return fetch('db.json')\n    .then(response => response.json())\n}\n\nfunction renderArticles(articles) {\n  const template = document.getElementById('post-container')\n  const main = document.getElementById('container')\n\n  articles.forEach(article => {\n    const articleNode = template.content.cloneNode(true)\n    main.appendChild(render(articleNode, article))\n  })\n}\n\nfunction render(element, obj) {\n  const elements = Array.from(element.querySelectorAll('[data-bind]'))\n\n  elements.forEach(el => {\n    const bindings = el.getAttribute('data-bind').split(',')\n\n    bindings.forEach(binding => {\n      const [field, attr] = binding.split(':')\n\n      if (attr) {\n        el.setAttribute(attr, obj[field])\n      } else {\n        el.textContent = obj[field]\n      }\n    })\n  })\n\n  return element\n}\n\nfunction playVideo() {\n  document.addEventListener('click', (event) => {\n    const target = event.target\n\n    if (target.name === 'play') {\n      const video = target.parentNode.querySelector('video')\n      const showButton = (event) => {\n        video.removeEventListener(event.type, showButton)\n        target.parentNode.classList.remove('hide')\n        video.pause()\n      }\n\n      target.parentNode.classList.add('hide')\n      video.play()\n      video.addEventListener('pause', showButton)\n      video.addEventListener('click', showButton)\n    }\n  })\n}\n\nfunction initiateScrolling() {\n  const button = document.getElementById('scroll-btn')\n\n  button.addEventListener('click', (event) => {\n    event.preventDefault()\n\n    const selector = button.getAttribute('href')\n    const target = document.querySelector(selector)\n    const { top } = target.getBoundingClientRect()\n    let currentTop = window.pageYOffset\n    const step = (top - currentTop) / 50\n    const animate = () => {\n      currentTop += step\n      window.scrollTo(0, currentTop)\n\n      if (currentTop < top) {\n        requestAnimationFrame(animate)\n      } else {\n        location.hash = selector\n      }\n    }\n\n    animate()\n  })\n}\n\nmain()\n\n"]}